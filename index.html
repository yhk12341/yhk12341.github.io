<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>김용하 수능 수학 과외</title>
    <!-- 사이트 아이콘을 연필 모양으로 변경 -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233B82F6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z'/%3E%3Cpath d='m15 5 4 4'/%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* 기본 스타일 */
        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; }

        /* 스크롤 잠금 클래스 (모바일 대응 강화) */
        html.modal-open, body.modal-open {
            overflow: hidden;
            position: fixed; /* iOS 스크롤 방지 */
            width: 100%;
        }

        /* 메인 배경 이미지 */
        .hero-bg {
            background-image: url('https://www.heritage.go.kr/unisearch/images/history_site/2024012616285500.JPG');
            background-size: cover;
            background-position: center center;
            position: relative;
        }
        @media (min-width: 1024px) { .hero-bg { background-attachment: fixed; } }
        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to top, rgba(0, 10, 30, 0.7), rgba(0, 20, 60, 0.4));
        }

        /* 네비게이션 링크 */
        .nav-link {
            transition: all 0.3s ease-in-out;
            position: relative;
            padding-bottom: 8px;
            color: #d1d5db; /* gray-300 */
        }
        .nav-link:hover { color: #fff; }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background-color: #60a5fa; /* blue-400 */
            transition: width 0.3s ease-in-out;
        }
        .nav-link.active { color: #fff; }
        .nav-link.active::after { width: 60%; }
        
        /* 컨텐츠 섹션 */
        .content-section { padding-top: 5rem; padding-bottom: 5rem; }
        
        /* 라이트박스 및 모달 스타일 */
        .lightbox, .modal-overlay {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.85);
            justify-content: center; align-items: center;
            animation: fadeIn 0.3s;
        }
        .lightbox-content, .modal-content-container { 
            max-width: 90%; 
            max-height: 90vh; /* Viewport height 기준으로 최대 높이 설정 */
            animation: zoomIn 0.3s;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        /* 시간표 탭 스타일 (모바일 버그 수정) */
        .timetable-tab.active {
            border-color: #3b82f6; /* blue-500 */
            background-color: #3b82f6;
            color: white;
        }
        .timetable-tab.active:hover {
            background-color: #3b82f6;
            color: white;
        }
        
        /* 갤러리 이미지 전환 효과 */
        #gallery-image {
            transition: opacity 0.3s ease-in-out;
        }

    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- 헤더 (상단 고정 네비게이션) -->
    <header id="main-header" class="bg-gray-900/80 text-white sticky top-0 z-50 shadow-lg backdrop-blur-sm transition-all duration-300">
        <nav class="max-w-5xl mx-auto flex justify-between items-center p-4">
            <a href="#home" class="text-xl font-bold nav-link">김용하 수능 수학 과외</a>
            
            <ul class="hidden md:flex flex-wrap justify-center space-x-1 md:space-x-4 text-sm font-medium">
                <li><a href="#intro" class="nav-link py-2 px-3">강사소개</a></li>
                <li><a href="#curriculum" class="nav-link py-2 px-3">커리큘럼</a></li>
                <li><a href="#trial" class="nav-link py-2 px-3">시범과외</a></li>
                <li><a href="#results" class="nav-link py-2 px-3">과외실적</a></li>
                <li><a href="#philosophy" class="nav-link py-2 px-3">수업철학</a></li>
                <li><a href="#tuition" class="nav-link py-2 px-3">수업료</a></li>
                <li><a href="#timetable" class="nav-link py-2 px-3">시간표</a></li>
                <li><a href="#contact" class="nav-link py-2 px-3">문의</a></li>
            </ul>

            <button id="menu-btn" class="md:hidden p-2" aria-label="메뉴 열기">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
            </button>
        </nav>
        
        <div id="mobile-menu" class="hidden md:hidden">
            <ul class="flex flex-col items-center space-y-4 py-4 font-medium">
                <li><a href="#intro" class="nav-link">강사소개</a></li>
                <li><a href="#curriculum" class="nav-link">커리큘럼</a></li>
                <li><a href="#trial" class="nav-link">시범과외</a></li>
                <li><a href="#results" class="nav-link">과외실적</a></li>
                <li><a href="#philosophy" class="nav-link">수업철학</a></li>
                <li><a href="#tuition" class="nav-link">수업료</a></li>
                <li><a href="#timetable" class="nav-link">시간표</a></li>
                <li><a href="#contact" class="nav-link">문의</a></li>
            </ul>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main>
        <!-- 섹션 1: 메인 화면 -->
        <section id="home" class="hero-bg min-h-screen flex items-center justify-center text-white text-center" 
                 onerror="this.style.backgroundImage='url(https://placehold.co/1920x1080/334155/e2e8f0?text=Background+Image+Error)'">
            <div class="relative z-10 p-4">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4 drop-shadow-md">
                    2027 수능 수학<br class="sm:hidden"> 미적분 과외 모집합니다.
                </h1>
            </div>
        </section>

        <div class="bg-gray-50 relative z-20">
            <div class="max-w-4xl mx-auto">
                <!-- 섹션 2: 강사소개 -->
                <section id="intro" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-10 border-b pb-4">강사 소개</h2>
                        <!-- Part 1: Profile -->
                        <div class="flex flex-col md:flex-row gap-8 md:gap-12 items-center">
                            <div class="w-full md:w-1/2">
                                <div class="bg-gray-100 p-6 rounded-lg h-full">
                                    <div class="flex items-center gap-6">
                                        <img src="https://static.wixstatic.com/media/d9a698_5a19d1fae1cd4c6283208a37aaae6aab~mv2.jpg/v1/fill/w_135,h_180,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/IMG_0096.jpg" alt="강사 사진" class="rounded-lg shadow-md object-cover w-24 sm:w-32 h-auto flex-shrink-0" onerror="this.onerror=null;this.src='https://placehold.co/128x171/e0e0e0/555555?text=Photo';">
                                        <div class="text-left">
                                            <p class="text-2xl md:text-3xl font-bold">김용하</p>
                                            <p class="text-md md:text-lg text-gray-600">연세대학교 공과대학 22학번</p>
                                        </div>
                                    </div>
                                    <div class="mt-6 bg-white p-4 rounded-lg">
                                        <ul class="space-y-2 text-gray-700">
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span>연세대학교 공과대학 3학년 휴학 中</span></li>
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span>24세 / 22학번 / 2021년 시행 수능 응시</span></li>
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span>고3 현역 <strong>연세대 정시 최초합격</strong></span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2 lightbox-trigger relative cursor-pointer group">
                                <img src="https://static.wixstatic.com/media/d9a698_e1ff3702886742ea9a1e40125ac674ff~mv2.jpg/v1/crop/x_0,y_0,w_738,h_642/fill/w_500,h_435,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/8D01C3F3-B2D9-46DA-8874-DAC769FEC5A2_JPG.jpg" alt="연세대학교 합격증" class="rounded-lg shadow-md w-full h-auto max-w-[18rem] md:max-w-[24rem] mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/500x435/e0e0e0/555555?text=Acceptance+Letter';">
                                <div class="absolute inset-0 bg-black bg-opacity-20 flex md:hidden justify-center items-center rounded-lg max-w-[18rem] md:max-w-[24rem] mx-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-12 h-12 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>
                                </div>
                            </div>
                        </div>
                        <!-- Part 2: Career -->
                        <div class="mt-16 pt-10 border-t-2 border-dashed">
                            <div class="grid md:grid-cols-2 gap-10">
                                <div class="bg-gray-100 p-6 rounded-lg">
                                    <h3 class="text-xl font-bold text-gray-800 border-l-4 border-blue-500 pl-4 mb-4">주요 이력</h3>
                                    <div class="bg-white p-4 rounded-lg">
                                        <ul class="space-y-2 text-gray-700">
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span>고2 내신 3.2 → 고3 정시 준비, <strong>연세대 공대 합격</strong></span></li>
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span>고3 평가원 수학 <strong>백분위 98(6월) → 100(9월) → 100(수능)</strong></span></li>
                                            <li class="flex items-start"><span class="mr-2 mt-1 text-blue-500 font-bold">∙</span><span><strong class="text-blue-600">고교 재학 중 응시한 모든 모의고사 수학 백분위 98 이상</strong></span></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-6 rounded-lg">
                                    <h3 class="text-xl font-bold text-gray-800 border-l-4 border-blue-500 pl-4 mb-4">과외 경력</h3>
                                    <div class="bg-white p-4 rounded-lg">
                                        <ul class="space-y-3">
                                            <li>
                                                <p class="font-bold text-gray-700">2022년</p>
                                                <p class="text-sm text-gray-600 mt-1 pl-4">고3(1명), 고1(2명) 개인 과외</p>
                                            </li>
                                            <li>
                                                <p class="font-bold text-gray-700">2023년</p>
                                                <p class="text-sm text-gray-600 mt-1 pl-4">고3(2명), 고2(1명), 고1(1명) 개인 과외</p>
                                                <p class="text-sm text-gray-600 mt-1 pl-4">서울 은평구 학원 강사 (고2 내신 심화반, 기출문제 풀이)</p>
                                            </li>
                                            <li>
                                                <p class="font-bold text-gray-700">2024년</p>
                                                <p class="text-sm text-gray-600 mt-1 pl-4">고2(1명) 개인 과외</p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- 섹션 3: 커리큘럼 -->
                <section id="curriculum" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-4">1등급을 완성하는 연간 커리큘럼</h2>
                        <p class="text-center text-gray-600 mb-12">개념부터 실전까지, 가장 완벽한 길을 제시합니다.</p>
                        
                        <!-- Timeline -->
                        <div class="relative mt-10">
                            <div class="absolute top-0 bottom-0 left-1/2 w-0.5 bg-blue-200"></div>
                            <!-- Step 1 -->
                            <div class="relative mb-8 pb-8 border-b-2 border-dashed border-gray-200">
                                <div class="absolute left-1/2 -ml-5 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold ring-8 ring-white z-10">1</div>
                                <div class="grid md:grid-cols-2 gap-x-4 items-start">
                                    <div class="md:text-right md:pr-8">
                                        <div class="bg-gray-50 inline-block p-6 rounded-lg shadow-md w-full">
                                            <p class="text-blue-500 font-semibold text-sm">12월 ~ 4월</p>
                                            <h4 class="text-xl font-bold my-1">개념 & 기출 정복</h4>
                                            <p class="text-gray-500 mt-2">수능 수학의 단단한 초석을 다지는 시기</p>
                                        </div>
                                    </div>
                                    <div class="md:pl-8 mt-4 md:mt-0">
                                        <div class="bg-blue-50 p-6 rounded-lg h-full">
                                            <h5 class="font-bold mb-2 text-gray-700">세부 목표</h5>
                                            <ul class="space-y-2 list-disc list-inside text-gray-600">
                                                <li>실전 개념 완성 및 유형별 접근법 체화</li>
                                                <li>평가원 출제 원리 파악 및 시각 교정</li>
                                                <li>올바른 개념/문제풀이 습관 확립</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 2 -->
                            <div class="relative mb-8 pb-8 border-b-2 border-dashed border-gray-200">
                                <div class="absolute left-1/2 -ml-5 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold ring-8 ring-white z-10">2</div>
                                <div class="grid md:grid-cols-2 gap-x-4 items-start">
                                    <div class="md:text-right md:pr-8">
                                        <div class="bg-gray-50 inline-block p-6 rounded-lg shadow-md w-full">
                                            <p class="text-blue-500 font-semibold text-sm">4월 ~ 7월</p>
                                            <h4 class="text-xl font-bold my-1">심화 문제풀이</h4>
                                            <p class="text-gray-500 mt-2">고난도 문항 해결 능력을 기르는 시기</p>
                                        </div>
                                    </div>
                                    <div class="md:pl-8 mt-4 md:mt-0">
                                        <div class="bg-blue-50 p-6 rounded-lg h-full">
                                            <h5 class="font-bold mb-2 text-gray-700">세부 목표</h5>
                                            <ul class="space-y-2 list-disc list-inside text-gray-600">
                                                <li>N제 집중 풀이로 고난도 적응력 향상</li>
                                                <li>킬러 문항 해결을 위한 전략 집중 훈련</li>
                                                <li>기출 오답 분석을 통한 약점 유형 공략</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 3 -->
                            <div class="relative mb-8 pb-8 border-b-2 border-dashed border-gray-200">
                                <div class="absolute left-1/2 -ml-5 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold ring-8 ring-white z-10">3</div>
                                <div class="grid md:grid-cols-2 gap-x-4 items-start">
                                    <div class="md:text-right md:pr-8">
                                        <div class="bg-gray-50 inline-block p-6 rounded-lg shadow-md w-full">
                                            <p class="text-blue-500 font-semibold text-sm">7월 ~ 9월</p>
                                            <h4 class="text-xl font-bold my-1">실전 감각 완성</h4>
                                            <p class="text-gray-500 mt-2">실전과 동일한 훈련으로 최고점을 만드는 시기</p>
                                        </div>
                                    </div>
                                    <div class="md:pl-8 mt-4 md:mt-0">
                                        <div class="bg-blue-50 p-6 rounded-lg h-full">
                                            <h5 class="font-bold mb-2 text-gray-700">세부 목표</h5>
                                            <ul class="space-y-2 list-disc list-inside text-gray-600">
                                                <li>주간 실전 모의고사로 시간 관리 체화</li>
                                                <li>9월 모의고사 완벽 대비로 자신감 확보</li>
                                                <li>심화 N제 병행으로 문제풀이 감각 유지</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Step 4 -->
                            <div class="relative">
                                <div class="absolute left-1/2 -ml-5 w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold ring-8 ring-white z-10">4</div>
                                <div class="grid md:grid-cols-2 gap-x-4 items-start">
                                    <div class="md:text-right md:pr-8">
                                        <div class="bg-gray-50 inline-block p-6 rounded-lg shadow-md w-full">
                                            <p class="text-blue-500 font-semibold text-sm">9월 ~ 수능</p>
                                            <h4 class="text-xl font-bold my-1">파이널 총정리</h4>
                                            <p class="text-gray-500 mt-2">자신의 실력을 100% 발휘하도록 마무리하는 시기</p>
                                        </div>
                                    </div>
                                    <div class="md:pl-8 mt-4 md:mt-0">
                                        <div class="bg-blue-50 p-6 rounded-lg h-full">
                                            <h5 class="font-bold mb-2 text-gray-700">세부 목표</h5>
                                            <ul class="space-y-2 list-disc list-inside text-gray-600">
                                                <li>누적 오답 기반으로 최종 약점 보완</li>
                                                <li>파이널 모의고사로 실전 감각 극대화</li>
                                                <li>최상의 컨디션을 위한 멘탈/생활 관리</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-16 pt-10 border-t-2 border-dashed">
                            <h3 class="text-2xl font-semibold text-gray-800 text-center">자체 제작 자료</h3>
                            <p class="text-center text-gray-500 mt-2 mb-8">자료 이미지를 클릭하면 더 많은 샘플을 보실 수 있습니다.</p>
                            <div class="grid grid-cols-3 gap-4 md:gap-8 text-center">
                                <div class="p-2 md:p-4 bg-gray-100 rounded-lg material-gallery-trigger group cursor-pointer" data-gallery="concept">
                                    <img src="https://static.wixstatic.com/media/d9a698_0fb84858adaf48b3be2db56963b6dedd~mv2.jpeg/v1/fill/w_459,h_647,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/TalkMedia_i_9a0ac6174159_jpeg.jpeg" alt="자체 제작 개념 교재" class="rounded-lg shadow-md w-full h-auto mx-auto transition-transform group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/250x354/e2e8f0/4a5568?text=개념교재';">
                                    <h5 class="font-bold mt-3 text-sm md:text-lg">개념 교재</h5>
                                    <p class="text-gray-600 text-xs md:text-sm mt-1">평가원의 시선으로<br class="sm:hidden"> 개념 완성</p>
                                </div>
                                <div class="p-2 md:p-4 bg-gray-100 rounded-lg material-gallery-trigger group cursor-pointer" data-gallery="past-questions">
                                    <img src="https://static.wixstatic.com/media/d9a698_4f38e94a7b45416cb1eca28536c19c5e~mv2.jpeg/v1/fill/w_464,h_663,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/TalkMedia_i_7a28ac05d702_jpeg.jpeg" alt="자체 제작 기출 교재" class="rounded-lg shadow-md w-full h-auto mx-auto transition-transform group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/250x358/e2e8f0/4a5568?text=기출교재';">
                                    <h5 class="font-bold mt-3 text-sm md:text-lg">기출 교재</h5>
                                    <p class="text-gray-600 text-xs md:text-sm mt-1">핵심 기출 반복으로<br class="sm:hidden"> 실전 감각 체화</p>
                                </div>
                                 <div class="p-2 md:p-4 bg-gray-100 rounded-lg material-gallery-trigger group cursor-pointer" data-gallery="error-notes">
                                    <img src="https://placehold.co/250x354/e2e8f0/4a5568?text=오답노트" alt="오답노트 예시" class="rounded-lg shadow-md w-full h-auto mx-auto transition-transform group-hover:scale-105">
                                    <h5 class="font-bold mt-3 text-sm md:text-lg">오답노트</h5>
                                    <p class="text-gray-600 text-xs md:text-sm mt-1">약점 분석 및<br class="sm:hidden"> 누적 복습</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- 섹션 4: 시범과외 -->
                <section id="trial" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-8 border-b pb-4">시범과외 안내</h2>
                        <div class="text-center">
                            <p class="text-xl font-semibold text-gray-800">3시간의 정밀 진단, 직접 경험하고 결정하세요.</p>
                            <p class="mt-2 text-gray-600">수업이 어떻게 진행되는지, 저와 잘 맞는지 알아볼 가장 확실한 방법입니다.</p>
                            <div class="mt-6 flex flex-col sm:flex-row justify-center items-center gap-4 text-sm">
                                <span class="bg-blue-100 text-blue-800 font-semibold px-3 py-1.5 rounded-full">100% 무료 진행</span>
                                <span class="bg-indigo-100 text-indigo-800 font-semibold px-3 py-1.5 rounded-full">학생 스케줄 100% 반영</span>
                                <span class="bg-green-100 text-green-800 font-semibold px-3 py-1.5 rounded-full">친구와 함께 신청 가능</span>
                            </div>
                        </div>
                        <div class="mt-12">
                            <ol class="relative border-l-2 border-gray-200 ml-4">                  
                                <li class="mb-10 ml-10">
                                    <span class="absolute flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full -left-5 ring-4 ring-white font-bold text-blue-800">1</span>
                                    <h3 class="font-semibold text-lg text-gray-900">정확한 실력 진단 <span class="font-normal text-sm">(100분)</span></h3>
                                    <p class="mt-1 text-base font-normal text-gray-600">실제 기출 모의고사를 통해 현재 위치와 취약점을 과학적으로 분석합니다.</p>
                                </li>
                                <li class="mb-10 ml-10">
                                    <span class="absolute flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full -left-5 ring-4 ring-white font-bold text-blue-800">2</span>
                                    <h3 class="font-semibold text-lg text-gray-900">스스로 하는 오답 분석 <span class="font-normal text-sm">(20분)</span></h3>
                                    <p class="mt-1 text-base font-normal text-gray-600">학생 스스로 왜 틀렸는지 고민하고 설명하며 약점을 명확히 인지하는 시간입니다.</p>
                                </li>
                                <li class="mb-10 ml-10">
                                    <span class="absolute flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full -left-5 ring-4 ring-white font-bold text-blue-800">3</span>
                                    <h3 class="font-semibold text-lg text-gray-900">핵심 문항 해설 <span class="font-normal text-sm">(30분)</span></h3>
                                    <p class="mt-1 text-base font-normal text-gray-600">학생의 풀이와 제 풀이를 비교하며 문제의 핵심을 꿰뚫는 해설을 제공합니다.</p>
                                </li>
                                <li class="mb-10 ml-10">
                                    <span class="absolute flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full -left-5 ring-4 ring-white font-bold text-blue-800">4</span>
                                    <h3 class="font-semibold text-lg text-gray-900">오답노트 지도 <span class="font-normal text-sm">(20분)</span></h3>
                                    <p class="mt-1 text-base font-normal text-gray-600">틀린 문제를 완벽히 내 것으로 만드는 효율적인 오답노트 작성법을 지도합니다.</p>
                                </li>
                                <li class="ml-10">
                                    <span class="absolute flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full -left-5 ring-4 ring-white font-bold text-blue-800">5</span>
                                    <h3 class="font-semibold text-lg text-gray-900">종합 상담 및 학습 계획 수립 <span class="font-normal text-sm">(10분+)</span></h3>
                                    <p class="mt-1 text-base font-normal text-gray-600">진단 결과를 토대로 목표와 각오를 다지고, 앞으로의 수업 진행 방향을 협의합니다.</p>
                                </li>
                            </ol>
                        </div>
                        <div class="text-center mt-12">
                            <button id="trial-apply-btn" class="inline-flex items-center gap-x-3 bg-blue-600 text-white font-bold text-lg py-3 px-8 rounded-lg shadow-lg hover:shadow-xl hover:bg-blue-700 transition-all transform hover:-translate-y-0.5">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                </svg>
                                시범과외 신청하기
                            </button>
                        </div>
                    </div>
                </section>

                <!-- 섹션 5: 과외 실적 -->
                <section id="results" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-10 border-b pb-4">결과로 증명하는 과외 실적</h2>
                        <div class="space-y-12">
                            <!-- 학생 1 -->
                            <div class="grid md:grid-cols-2 gap-8 items-center">
                                <div class="md:order-2 lightbox-trigger relative cursor-pointer group max-w-[12rem] sm:max-w-xs mx-auto">
                                    <img src="https://static.wixstatic.com/media/d9a698_5f9cf18defab48cba4ae34e299618911~mv2.jpg/v1/fill/w_619,h_460,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/d9a698_5f9cf18defab48cba4ae34e299618911~mv2.jpg" alt="건국대 합격증" class="rounded-lg shadow-md transition-transform group-hover:scale-105 w-full h-auto" onerror="this.onerror=null;this.src='https://placehold.co/619x460/e0e0e0/555555?text=Success+Story+1';">
                                    <div class="absolute inset-0 bg-black bg-opacity-20 flex md:hidden justify-center items-center rounded-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-12 h-12 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>
                                    </div>
                                </div>
                                <div class="md:order-1">
                                    <p class="font-bold text-blue-600">CASE 1. 수시 최저 1등급 달성</p>
                                    <h3 class="text-2xl font-bold mt-2 mb-4">김OO 학생 (고3)</h3>
                                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                                        <p class="font-semibold text-center">"6월 모평 <span class="text-red-600">2등급</span> → 수능 <span class="text-blue-600">1등급</span>으로, <br class="sm:hidden"/>안정적인 최저 등급 확보"</p>
                                    </div>
                                    <p class="text-gray-600">안정적인 수시 최저 등급 확보를 목표로 6월 모의평가 이후 과외를 시작했습니다. 취약 유형인 준킬러 문항에 대한 집중 훈련과 실전 감각 유지를 통해 9월 모의평가와 수능에서 모두 1등급을 달성하고 목표 대학에 합격했습니다.</p>
                                    <p class="mt-3 font-bold">✓ 최종 합격: 건국대학교 스마트운행체공학과</p>
                                </div>
                            </div>
                            <!-- 구분선 -->
                            <div class="border-t border-dashed my-8"></div>
                            <!-- 학생 2 -->
                            <div class="grid md:grid-cols-2 gap-8 items-center">
                                <div class="lightbox-trigger relative cursor-pointer group max-w-[12rem] sm:max-w-xs mx-auto">
                                    <img src="https://static.wixstatic.com/media/d9a698_0a29d66b215e474ca9ced0a3b31a053e~mv2.jpg/v1/fill/w_444,h_550,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/d9a698_0a29d66b215e474ca9ced0a3b31a053e~mv2.jpg" alt="경희대 합격증" class="rounded-lg shadow-md transition-transform group-hover:scale-105 w-full h-auto" onerror="this.onerror=null;this.src='https://placehold.co/444x550/e0e0e0/555555?text=Success+Story+2';">
                                    <div class="absolute inset-0 bg-black bg-opacity-20 flex md:hidden justify-center items-center rounded-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-12 h-12 opacity-80"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-bold text-green-600">CASE 2. 정시 3등급 → 1등급 성적 역전</p>
                                    <h3 class="text-2xl font-bold mt-2 mb-4">이OO 학생 (고3)</h3>
                                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                                        <p class="font-semibold text-center">"3월 학평 <span class="text-red-600">3등급</span> → 수능 <span class="text-blue-600">1등급</span>으로, <br class="sm:hidden"/>정시 대역전극의 주인공"</p>
                                    </div>
                                    <p class="text-gray-600">정시 준비를 위해 고3 초반부터 함께하며 개념 재정립 및 기출 심층 분석을 진행했습니다. 취약점에 대한 철저한 분석과 보완을 통해 6월부터 수능까지 꾸준히 1등급을 유지하며 드라마틱한 성적 향상으로 목표 대학에 합격했습니다.</p>
                                    <p class="mt-3 font-bold">✓ 최종 합격: 경희대학교 전자공학과</p>
                                </div>
                            </div>
                            <!-- 구분선 -->
                            <div class="border-t border-dashed my-8"></div>
                            <!-- 학생 3 -->
                            <div>
                                <p class="font-bold text-indigo-600">CASE 3. 내신 5등급 → 3등급 도약</p>
                                <h3 class="text-2xl font-bold mt-2 mb-4">김OO 학생 (서울 최상위권 외고)</h3>
                                <div class="bg-gray-100 p-4 rounded-lg mb-4">
                                    <p class="font-semibold text-center">"1학년 <span class="text-red-600">5등급</span> → 2학년 <span class="text-blue-600">3등급</span>으로, <br class="sm:hidden"/>치열한 내신 경쟁에서 이뤄낸 도약"</p>
                                </div>
                                <p class="text-gray-600">2학년 시작 전, 1학년 내신 5등급을 극복하기 위해 과외를 시작했습니다. 수1, 수2 심화 개념 학습과 학교별 기출 분석을 통해 2학년 1,2학기 모두 3등급을 달성, 대입의 든든한 발판을 마련했습니다.</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- 섹션 6: 수업 철학 -->
                <section id="philosophy" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-10 border-b pb-4">수업 철학</h2>
                        <div class="space-y-8 text-gray-700 leading-relaxed">
                            <div class="p-6 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-bold text-lg text-blue-800">1. 재미와 자신감</h4>
                                <p class="mt-3">내신과 달리 수능은 공부한 만큼 정직하게 실력이 오르는 것을 체감할 수 있습니다. 저는 이 과정에서 학생들이 <strong>성취의 재미와 자신감</strong>을 느끼도록 돕습니다. 억지로 하는 공부가 아닌, 스스로 공부를 찾아 하는 학생으로 만들어 드립니다.</p>
                            </div>
                            <div class="p-6 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-bold text-lg text-blue-800">2. 함께하는 동반자</h4>
                                <p class="mt-3">고3 시절, 같은 목표를 가진 친구 3명과 함께 공부하며 서로를 이끌어주었고, 결국 전원 목표 대학에 합격했습니다. 저는 학생에게 <strong>든든한 동반자이자 선의의 경쟁자</strong>가 되어주며, 때로는 친구들과 함께 공부하며 시너지를 낼 수 있도록 돕겠습니다.</p>
                            </div>
                            <div class="p-6 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-bold text-lg text-blue-800">3. 수험 생활의 모든 것을 함께 고민합니다</h4>
                                <p class="mt-3">수능은 공부만으로 완성되지 않습니다. <strong>멘탈, 체력, 생활패턴 관리</strong>까지, 저의 성공 경험을 바탕으로 수험 생활 전반을 책임지고 이끌어가는 든든한 조력자가 되겠습니다.</p>
                            </div>
                            <div class="p-6 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-bold text-lg text-blue-800">4. 학생의 성장을 위한 완전한 집중</h4>
                                <p class="mt-3">대학 재학 중 남는 시간에 하는 과외와는 다릅니다. 저는 군 전역 후 복학까지 미루고, 오직 2027년 수능을 준비하는 학생들만을 위해 1년을 온전히 바치기로 했습니다. 여러분의 노력에 저의 모든 시간과 경험을 더해 최고의 결과를 만들겠습니다.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 섹션 7: 수업료 -->
                <section id="tuition" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-12 border-b pb-4">수업 안내 및 수업료</h2>
                        
                        <div class="mb-12">
                            <h3 class="text-2xl font-semibold text-gray-800 mb-6 text-center">정규 과정 (4주 기준)</h3>
                           <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                 <div class="p-6 rounded-lg border bg-gray-50 flex flex-col shadow-sm">
                                    <h4 class="text-xl font-bold text-gray-800 mb-4 text-center">1:1 개인 수업</h4>
                                    <div class="space-y-4 flex-grow">
                                        <div class="p-4 bg-white rounded-md border">
                                            <div class="flex flex-wrap justify-between items-baseline">
                                                <p class="font-bold text-lg text-gray-800 mr-2">고3 개인수업</p>
                                                <span class="font-bold text-xl text-blue-600 whitespace-nowrap">70만원</span>
                                            </div>
                                            <p class="text-sm text-gray-500 mt-1">(주 2회 / 회당 2시간)</p>
                                        </div>
                                        <div class="p-4 bg-white rounded-md border">
                                            <div class="flex flex-wrap justify-between items-baseline">
                                                <p class="font-bold text-lg text-gray-800 mr-2">N수생 개인수업</p>
                                                <span class="font-bold text-xl text-blue-600 whitespace-nowrap">80만원</span>
                                            </div>
                                            <p class="text-sm text-gray-500 mt-1">(주 2회 / 회당 2시간)</p>
                                        </div>
                                    </div>
                                </div>
                                 <div class="p-6 rounded-lg border bg-gray-50 flex flex-col shadow-sm">
                                    <h4 class="text-xl font-bold text-gray-800 mb-4 text-center">팀 수업 (2~4인)</h4>
                                    <div class="space-y-4 flex-grow">
                                        <div class="p-4 bg-white rounded-md border">
                                            <div class="flex flex-wrap justify-between items-baseline">
                                                <p class="font-bold text-lg text-gray-800 mr-2">팀 수업 A</p>
                                                <span class="font-bold text-xl text-blue-600 whitespace-nowrap">38만원</span>
                                            </div>
                                            <p class="text-sm text-gray-500 mt-1">(주 1회 / 회당 3시간)</p>
                                        </div>
                                        <div class="p-4 bg-white rounded-md border">
                                            <div class="flex flex-wrap justify-between items-baseline">
                                                <p class="font-bold text-lg text-gray-800 mr-2">팀 수업 B</p>
                                                <span class="font-bold text-xl text-blue-600 whitespace-nowrap">48만원</span>
                                            </div>
                                            <p class="text-sm text-gray-500 mt-1">(주 2회 / 회당 2시간)</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pt-8 border-t">
                            <h3 class="text-2xl font-semibold text-center text-gray-700 mb-6">현장 모의고사 응시</h3>
                            <div class="max-w-md mx-auto">
                                 <div class="p-6 rounded-lg border text-center bg-white shadow-md">
                                    <p class="font-bold text-lg text-gray-700">시험 응시 + 해설 강의</p>
                                    <p class="text-3xl font-bold text-blue-600 my-2">4만원 <span class="text-lg font-medium text-gray-500">/ 1회</span></p>
                                    <p class="text-sm text-gray-500">(매주 모의고사 및 해설지 제공)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 섹션 8: 시간표 -->
                <section id="timetable" class="content-section px-4">
                    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold text-center mb-4">수업 시간표</h2>
                        <div id="timetable-info" class="text-lg text-gray-600 mb-8 flex justify-between items-center w-full"></div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                            <div id="timetable-legend" class="md:col-span-1 p-4 bg-gray-50 rounded-lg self-start">
                                <!-- 수업 현황 범례가 여기에 동적으로 삽입됩니다. -->
                            </div>
                            <div class="md:col-span-3">
                                <!-- Timetable Tabs -->
                                <div class="mb-4 overflow-x-auto">
                                    <div class="flex border-b" id="timetable-tabs">
                                        <button data-day="mon" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">월</button>
                                        <button data-day="tue" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">화</button>
                                        <button data-day="wed" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">수</button>
                                        <button data-day="thu" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">목</button>
                                        <button data-day="fri" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">금</button>
                                        <button data-day="sat" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100">토</button>
                                        <button data-day="sun" class="timetable-tab flex-1 whitespace-nowrap py-2 px-4 font-semibold text-sm text-gray-600 border-b-2 border-transparent hover:bg-gray-100 active">일</button>
                                    </div>
                                </div>
                                <!-- Timetable Content -->
                                <div class="space-y-10" id="timetable-content">
                                    <!-- 요일별 수업 목록이 여기에 동적으로 삽입됩니다 -->
                                </div>
                            </div>
                        </div>
                         <p class="text-xs text-center text-gray-500 mt-10">* 위 시간표는 실시간으로 업데이트 됩니다.</p>
                    </div>
                </section>
                
                <!-- 섹션 9: 문의 -->
                <section id="contact" class="content-section px-4">
                    <div class="bg-white p-8 md:p-12 rounded-xl shadow-lg">
                        <h2 class="text-3xl font-bold mb-4 text-center text-gray-800">최고의 결과를 향한 여정,<br class="sm:hidden"/> 제가 동행하겠습니다.</h2>
                        <p class="text-lg text-gray-600 mb-10 text-center">궁금한 점이 있다면 언제든지 편하게 문의해주세요.</p>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 gap-4">
                            <!-- Phone -->
                            <a href="tel:010-4312-2731" class="block bg-blue-50 p-4 rounded-lg text-left hover:shadow-lg hover:-translate-y-1 transition-all group flex items-center space-x-4">
                                <div class="inline-block p-3 bg-blue-100 text-blue-600 rounded-full group-hover:bg-blue-200 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-800">전화 & 문자</h4>
                                    <p class="font-semibold text-blue-600 group-hover:text-blue-800 text-base">010-4312-2731</p>
                                </div>
                            </a>

                            <!-- Email -->
                            <a href="mailto:youngha315@yonsei.ac.kr" class="block bg-green-50 p-4 rounded-lg text-left hover:shadow-lg hover:-translate-y-1 transition-all group flex items-center space-x-4">
                                <div class="inline-block p-3 bg-green-100 text-green-600 rounded-full group-hover:bg-green-200 transition-colors">
                                   <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-800">이메일</h4>
                                    <p class="font-semibold text-green-600 group-hover:text-green-800 text-base break-all">youngha315@yonsei.ac.kr</p>
                                </div>
                            </a>

                            <!-- KakaoTalk -->
                            <div class="bg-yellow-50 p-4 rounded-lg text-left hover:shadow-lg hover:-translate-y-1 transition-all group flex items-center space-x-4">
                                <div class="inline-block p-3 bg-yellow-100 text-yellow-600 rounded-full group-hover:bg-yellow-200 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 24 24"><path d="M22.495 13.844c.487.234.828.69.828 1.218 0 .428-.216.806-.554 1.037-.337.23-.746.292-1.119.168-1.553-.515-3.236-.45-4.664.2-1.46.666-2.733 1.7-3.793 2.98-1.025 1.24-1.81 2.72-2.31 4.31-.186.592-.725 1.006-1.343 1.006-.05 0-.102-.003-.152-.01-1.072-.152-1.93-.97-2.18-2.03-.66-2.792.17-5.71 2.06-7.86 1.88-2.14 4.51-3.41 7.29-3.76 1.75-.22 3.49.19 5.01.99m-4.22 2.06c.55-.31.81-.95.6-1.5-.2-.55-.78-.85-1.33-.63-.55.21-1.12.33-1.7.33-.58 0-1.15-.12-1.7-.33-.55-.22-1.13.08-1.33.63s.05 1.19.6 1.5c.7.4 1.51.62 2.33.62.82 0 1.63-.22 2.33-.62m-12.72-2.13c-1.332-.45-2.221-1.63-2.221-3.01 0-1.76 1.44-3.2 3.2-3.2s3.2 1.44 3.2 3.2c0 1.38- .89 2.56-2.22 3.01-.46.16-.94.24-1.41.24-.46 0-.93-.08-1.37-.24m1.42-4.04c-.44 0-.8.36-.8.8s.36.8.8.8.8-.36.8-.8-.36-.8-.8-.8" fill="currentColor"/></svg>
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-gray-800">카카오톡</h4>
                                    <p class="font-semibold text-yellow-600 text-base">ID: youngha315</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- 시범과외 신청 모달 -->
    <div id="trial-modal" class="modal-overlay hidden items-center justify-center p-4">
        <div class="modal-content-container bg-white rounded-xl shadow-2xl w-full max-w-lg relative">
            <div class="p-8 overflow-y-auto max-h-[90vh]">
                <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-700 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
                <h3 class="text-2xl font-bold text-center mb-6">시범과외 신청</h3>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <div class="text-center bg-blue-50 border border-blue-200 p-4 rounded-lg mb-6">
                        <p class="font-medium text-blue-800">시범 과외 신청을 위해 아래 양식을 작성하신 후, <br>복사하여 문자 메시지(<a href="tel:010-4312-2731" class="font-bold underline">010-4312-2731</a>)로 전송해주시면 <br>정성껏 검토 후 연락드리겠습니다.</p>
                    </div>

                    <div id="application-form" class="bg-white p-4 rounded-md text-gray-800 text-sm space-y-4">
                        <div>
                            <label for="q1-name" class="font-bold text-gray-700">1. 학생 성명</label>
                            <input type="text" id="q1-name" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                            <label for="q2-school" class="font-bold text-gray-700">2. 학교 및 학년</label>
                            <input type="text" id="q2-school" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="예: OO고 3학년">
                        </div>
                         <div>
                            <label for="q3-type" class="font-bold text-gray-700">3. 목표 전형</label>
                            <input type="text" id="q3-type" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="예: 정시, 수시(논술), 수시(학생부종합)">
                        </div>
                        <div>
                            <label for="q4-grade" class="font-bold text-gray-700">4. 최근 모의고사 성적 (수학)</label>
                            <textarea id="q4-grade" rows="2" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="예: 2025년 11월 수학 2등급"></textarea>
                        </div>
                        <div>
                            <label for="q5-history" class="font-bold text-gray-700">5. 학습 이력 (고교 입학 후)</label>
                            <textarea id="q5-history" rows="4" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="어떤 방식으로 수학 공부를 해왔는지, 어떤 부분에서 어려움을 느꼈는지 자유롭게 서술해주세요."></textarea>
                        </div>
                        <div>
                            <label for="q6-goal" class="font-bold text-gray-700">6. 목표 대학/학과</label>
                            <textarea id="q6-goal" rows="2" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="1순위, 2순위 등 구체적으로 작성해주시면 좋습니다."></textarea>
                        </div>
                        <div>
                            <label for="q7-academy" class="font-bold text-gray-700">7. 현재 수강 중인 학원</label>
                            <textarea id="q7-academy" rows="2" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="과목과 스케줄(예: 수학 주 2회)을 기재해주세요."></textarea>
                        </div>
                        <div>
                            <label for="q8-friend" class="font-bold text-gray-700">8. 동반 신청 학생 정보</label>
                            <textarea id="q8-friend" rows="2" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="없으면 '없음'으로 기재해주세요."></textarea>
                        </div>
                        <div>
                            <label for="q9-extra" class="font-bold text-gray-700">9. 기타 문의사항</label>
                            <textarea id="q9-extra" rows="3" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
                        </div>
                        <div>
                            <label for="q10-channel" class="font-bold text-gray-700">(설문) 방문 경로</label>
                            <input type="text" id="q10-channel" class="mt-1 w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="예: 전단지, 네이버 카페, 인스타그램, 지인추천 등">
                        </div>
                    </div>
                    <button id="copy-form-btn" class="mt-4 w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 transition-colors">신청 양식 복사하기</button>
                    <!-- Custom Alert Box -->
                    <div id="custom-alert" class="hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-[1001]">
                        <div class="bg-white p-6 rounded-lg shadow-xl text-center">
                            <p id="custom-alert-message" class="mb-4"></p>
                            <button id="custom-alert-close" class="bg-blue-500 text-white px-4 py-2 rounded-lg">확인</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 자료 갤러리 모달 -->
    <div id="material-gallery-modal" class="modal-overlay hidden items-center justify-center p-4">
        <div class="modal-content-container bg-white rounded-xl shadow-2xl p-6 w-full max-w-3xl relative">
             <button id="close-gallery-btn" class="absolute -top-3 -right-3 md:top-2 md:right-2 bg-gray-100 rounded-full p-1 text-gray-700 hover:text-gray-900 hover:bg-gray-200 z-20">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <div class="relative">
                <div id="gallery-image-container" class="relative w-full h-full">
                    <img id="gallery-image" src="" alt="자료 이미지" class="w-full h-auto max-h-[80vh] object-contain rounded-lg opacity-0 transition-opacity duration-300">
                </div>
                <button id="prev-gallery-btn" class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-60 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <button id="next-gallery-btn" class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-60 z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                </button>
                <div id="gallery-counter" class="absolute bottom-2 left-1/2 -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-2 py-1 rounded-md"></div>
            </div>
        </div>
    </div>


    <footer class="bg-gray-800 text-white text-center p-6">
        <p class="text-sm text-gray-400">© 2025 김용하 수능 수학 과외. All Rights Reserved.</p>
    </footer>

    <div id="lightbox" class="lightbox">
        <span id="lightbox-close-btn" class="absolute top-5 right-8 text-white text-5xl cursor-pointer">&times;</span>
        <img id="lightbox-img" src="" alt="확대된 이미지" class="lightbox-content rounded-lg shadow-2xl">
    </div>

    <script>
        // 4. 페이지 새로고침 시 홈 화면으로 이동
        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
        window.scrollTo(0,0);

        document.addEventListener('DOMContentLoaded', function () {
            const htmlEl = document.documentElement;
            const bodyEl = document.body;
            let lastScrollTop = 0;

            // 3. 모바일에서 팝업 시 배경 스크롤 방지
            const openModal = (modal) => {
                if (modal) {
                    lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    bodyEl.style.top = `-${lastScrollTop}px`;
                    
                    modal.style.display = 'flex';
                    htmlEl.classList.add('modal-open');
                    bodyEl.classList.add('modal-open');
                }
            };
            const closeModal = (modal) => {
                if (modal) {
                    modal.style.display = 'none';
                    htmlEl.classList.remove('modal-open');
                    bodyEl.classList.remove('modal-open');
                    
                    bodyEl.style.top = '';
                    window.scrollTo(0, lastScrollTop);
                }
            };

            // --- 전역 변수 및 요소 선택 ---
            const header = document.getElementById('main-header');
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const sections = document.querySelectorAll('main section[id]');
            const allNavLinks = document.querySelectorAll('a.nav-link');

            // --- 네비게이션 활성화 로직 ---
            const activateNav = (currentId) => {
                allNavLinks.forEach(link => {
                    const linkId = link.getAttribute('href').substring(1);
                    link.classList.toggle('active', linkId === currentId);
                });
            };
            
            // --- IntersectionObserver 초기화 ---
            const initNavObserver = () => {
                try {
                    const headerHeight = Math.floor(header.offsetHeight);
                    if (headerHeight > 0) {
                        const bottomOffset = -Math.floor(window.innerHeight - headerHeight - 1);
                        const navObserver = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    activateNav(entry.target.id);
                                }
                            });
                        }, { rootMargin: `-${headerHeight}px 0px ${bottomOffset}px 0px`, threshold: 0.1 });
                        
                        sections.forEach(section => { if (section) navObserver.observe(section); });
                    } else {
                        setTimeout(initNavObserver, 100);
                    }
                } catch (error) {
                    console.error("IntersectionObserver 초기화 중 오류 발생:", error);
                }
            };
            
            // --- 부드러운 스크롤링 및 네비게이션 버그 수정 ---
            const setupSmoothScrolling = () => {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            activateNav(targetId.substring(1));

                            const headerHeight = header ? header.offsetHeight : 0;
                            const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
                            
                            window.scrollTo({ top: targetPosition, behavior: 'smooth' });

                            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                                mobileMenu.classList.add('hidden');
                            }
                        }
                    });
                });
            };

            // --- 초기화 함수 호출 ---
            initNavObserver();
            setupSmoothScrolling();

            // --- 모바일 메뉴 토글 ---
            if (menuBtn) menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            // --- 라이트박스 로직 ---
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCloseBtn = document.getElementById('lightbox-close-btn');
            const lightboxTriggers = document.querySelectorAll('.lightbox-trigger');

            if (lightbox && lightboxImg && lightboxCloseBtn && lightboxTriggers.length > 0) {
                lightboxTriggers.forEach(trigger => {
                    trigger.addEventListener('click', () => {
                        const imageToDisplay = trigger.querySelector('img');
                        if(imageToDisplay) {
                            lightboxImg.src = imageToDisplay.src;
                            openModal(lightbox);
                        }
                    });
                });
                lightboxCloseBtn.addEventListener('click', () => closeModal(lightbox));
                lightbox.addEventListener('click', (e) => {
                    if (e.target !== lightboxImg) closeModal(lightbox);
                });
            }


            // --- 시범과외 신청 모달 로직 ---
            const trialApplyBtn = document.getElementById('trial-apply-btn');
            const trialModal = document.getElementById('trial-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const copyFormBtn = document.getElementById('copy-form-btn');
            const customAlert = document.getElementById('custom-alert');
            const customAlertMessage = document.getElementById('custom-alert-message');
            const customAlertClose = document.getElementById('custom-alert-close');

            function showCustomAlert(message) {
                if(customAlert && customAlertMessage) {
                    customAlertMessage.innerHTML = message;
                    customAlert.style.display = 'flex';
                }
            }

            if (customAlertClose) {
                customAlertClose.addEventListener('click', () => { customAlert.style.display = 'none'; });
            }

            if (trialApplyBtn && trialModal && closeModalBtn) {
                trialApplyBtn.addEventListener('click', () => { openModal(trialModal); });
                closeModalBtn.addEventListener('click', () => { closeModal(trialModal); });
                trialModal.addEventListener('click', (e) => { 
                    if (e.target.id === 'trial-modal') closeModal(trialModal);
                });
            }

            // --- 클립보드 복사 로직 ---
            if(copyFormBtn) {
                copyFormBtn.addEventListener('click', () => {
                    const questions = [
                        { label: "1. 학생 성명", value: document.getElementById('q1-name').value.trim() },
                        { label: "2. 학교 및 학년", value: document.getElementById('q2-school').value.trim() },
                        { label: "3. 목표 전형", value: document.getElementById('q3-type').value.trim() },
                        { label: "4. 최근 모의고사 성적 (수학)", value: document.getElementById('q4-grade').value.trim() },
                        { label: "5. 학습 이력", value: document.getElementById('q5-history').value.trim() },
                        { label: "6. 목표 대학/학과", value: document.getElementById('q6-goal').value.trim() },
                        { label: "7. 현재 수강 중인 학원", value: document.getElementById('q7-academy').value.trim() },
                        { label: "8. 동반 신청 학생 정보", value: document.getElementById('q8-friend').value.trim() },
                        { label: "9. 기타 문의사항", value: document.getElementById('q9-extra').value.trim() },
                        { label: "(설문) 방문 경로", value: document.getElementById('q10-channel').value.trim() }
                    ];

                    let formText = "[시범과외 신청서]\n\n";
                    questions.forEach(q => {
                        formText += `${q.label}\n: ${q.value || '(내용 없음)'}\n\n`;
                    });
                    
                    const textArea = document.createElement('textarea');
                    textArea.value = formText;
                    textArea.style.position = 'fixed';
                    textArea.style.top = '-9999px';
                    textArea.style.left = '-9999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    try {
                        document.execCommand('copy');
                        showCustomAlert('신청 양식이 복사되었습니다.<br>복사된 내용을 문자 메시지로 보내주세요.');
                    } catch (err) {
                        showCustomAlert('복사에 실패했습니다.<br>번거로우시겠지만, 내용을 직접 복사하여 보내주세요.');
                    } finally {
                        document.body.removeChild(textArea);
                    }
                });
            }
            
            // 2. 시간표 데이터 및 로직 업데이트
            const timetableData = {
                mon: [
                    { time: '10:00 - 12:00', subject: 'N수생 개인수업', type: 'n-student' },
                    { time: '16:00 - 19:00', subject: '송도고 팀수업 B', type: 'songdo-team' },
                    { time: '19:00 - 22:00', subject: '인천고 팀수업 A', type: 'incheon-team' }
                ],
                tue: [
                    { time: '10:00 - 12:00', subject: 'N수생 개인수업', type: 'n-student' },
                    { time: '17:00 - 20:00', subject: '인천고 팀수업 A', type: 'incheon-team' },
                    { time: '20:00 - 22:00', subject: '시범 과외', type: 'trial' }
                ],
                wed: [
                    { time: '10:00 - 12:00', subject: 'N수생 개인수업', type: 'n-student' },
                    { time: '16:00 - 19:00', subject: '송도고 팀수업 B', type: 'songdo-team' },
                    { time: '19:30 - 21:30', subject: '인천고 팀수업 A', type: 'incheon-team' }
                ],
                thu: [
                    { time: '10:00 - 12:00', subject: 'N수생 개인수업', type: 'n-student' },
                    { time: '17:00 - 20:00', subject: '송도고 팀수업 B', type: 'songdo-team' }
                ],
                fri: [
                    { time: '16:00 - 19:00', subject: '인천고 팀수업 A', type: 'incheon-team' },
                    { time: '19:00 - 22:00', subject: '송도고 팀수업 B', type: 'songdo-team' }
                ],
                sat: [
                    { time: '14:00 - 17:00', subject: '시범 과외', type: 'trial' }
                ],
                sun: [
                    { time: '10:30 - 12:10', subject: '실전 모의고사 반', type: 'special' }
                ]
            };
            const typeStyles = {
                'incheon-team': { border: 'border-yellow-400', legend: 'bg-yellow-300', badge: 'bg-yellow-200 text-yellow-800', text: '팀수업 A' },
                'songdo-team': { border: 'border-green-400', legend: 'bg-green-300', badge: 'bg-green-200 text-green-800', text: '팀수업 B' },
                'n-student': { border: 'border-blue-400', legend: 'bg-blue-300', badge: 'bg-blue-200 text-blue-800', text: '개인수업' },
                'trial': { border: 'border-orange-400', legend: 'bg-orange-300', badge: 'bg-orange-200 text-orange-800', text: '시범과외' },
                'special': { border: 'border-purple-400', legend: 'bg-purple-300', badge: 'bg-purple-200 text-purple-800', text: '특별수업' }
            };
            
            const timetableTabs = document.getElementById('timetable-tabs');
            const timetableContent = document.getElementById('timetable-content');
            const legendContainer = document.getElementById('timetable-legend');

            function renderLegend() {
                const classTypes = {
                    'incheon-team': { label: '인천고 3학년 팀 A', color: typeStyles['incheon-team'].legend, count: 0 },
                    'songdo-team': { label: '송도고 3학년 팀 B', color: typeStyles['songdo-team'].legend, count: 0 },
                    'n-student': { label: 'N수생 개인수업', color: typeStyles['n-student'].legend, count: 0 },
                    'trial': { label: '시범 과외', color: typeStyles['trial'].legend, count: 0 }
                };

                // 가정된 팀 수 반영 (각각 4팀, 시범 2)
                classTypes['incheon-team'].count = 4;
                classTypes['songdo-team'].count = 4;
                classTypes['n-student'].count = 4;
                classTypes['trial'].count = 2;


                let legendHTML = '<h3 class="text-xl font-bold mb-4 text-gray-800">수업 현황</h3><div class="space-y-3">';
                for (const type in classTypes) {
                    const info = classTypes[type];
                    if (info.count > 0) {
                        const unit = type.includes('team') ? '팀' : '명';
                        legendHTML += `
                            <div class="flex items-center text-sm">
                                <span class="w-4 h-4 rounded-full ${info.color} mr-3 border border-gray-400 shadow-sm"></span>
                                <span class="text-gray-700">${info.label} (${info.count}${unit})</span>
                            </div>
                        `;
                    }
                }
                legendHTML += '</div>';
                legendContainer.innerHTML = legendHTML;
            }


            function renderTimetable(day) {
                const dayData = timetableData[day] || [];
                timetableContent.innerHTML = ''; 

                if (dayData.length === 0) {
                    timetableContent.innerHTML = `<div class="p-8 text-center text-gray-500 bg-gray-50 rounded-lg">예약된 수업이 없습니다.</div>`;
                    return;
                }
                
                const timeSlots = {
                    '오전': dayData.filter(item => parseInt(item.time.split(':')[0]) < 12),
                    '오후': dayData.filter(item => parseInt(item.time.split(':')[0]) >= 12 && parseInt(item.time.split(':')[0]) < 18),
                    '저녁': dayData.filter(item => parseInt(item.time.split(':')[0]) >= 18)
                };

                Object.keys(timeSlots).forEach(period => {
                    const periodData = timeSlots[period];
                    if (periodData.length > 0) {
                        const periodContainer = document.createElement('div');
                        periodContainer.innerHTML = `<h4 class="text-xl font-semibold mb-4 text-gray-700">${period}</h4>`;
                        const grid = document.createElement('div');
                        grid.className = 'grid grid-cols-1 sm:grid-cols-2 gap-4';

                        periodData.forEach(item => {
                            const style = typeStyles[item.type] || { border: 'border-gray-400', badge: 'bg-gray-200 text-gray-800', text: '수업' };
                            const card = document.createElement('div');
                            card.className = `bg-white p-4 rounded-lg shadow-sm border-l-4 ${style.border}`;
                            card.innerHTML = `
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h4 class="font-bold text-gray-800">${item.time}</h4>
                                        <p class="text-sm text-gray-600 mt-1">${item.subject}</p>
                                    </div>
                                    <span class="text-xs font-semibold ${style.badge} px-2 py-1 rounded-full mt-1 inline-block whitespace-nowrap">${style.text}</span>
                                </div>
                            `;
                            grid.appendChild(card);
                        });
                        periodContainer.appendChild(grid);
                        timetableContent.appendChild(periodContainer);
                    }
                });
            }

            if(timetableTabs && timetableContent) {
                timetableTabs.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        document.querySelector('.timetable-tab.active').classList.remove('active');
                        e.target.classList.add('active');
                        renderTimetable(e.target.dataset.day);
                    }
                });
            }

            // --- 시간표 주차 및 D-day 기능 ---
            const getWeekOfMonth = (date) => {
                const firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay();
                return Math.ceil((date.getDate() + firstDay) / 7);
            };
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth() + 1;
            const week = getWeekOfMonth(today);
            const dday = new Date('2026-11-19'); // 2027학년도 수능일
            const gap = dday.getTime() - today.getTime();
            const remainingDays = Math.ceil(gap / (1000 * 60 * 60 * 24));
            
            const timetableInfoEl = document.getElementById('timetable-info');
            if (timetableInfoEl) {
                timetableInfoEl.innerHTML = `
                    <span class="flex-1 text-left"></span>
                    <span class="flex-1 text-center font-semibold">${year}년 ${month}월 <strong class="text-blue-600">${week}주차</strong></span>
                    <span class="flex-1 text-right text-sm font-medium">수능 D-<strong class="text-red-500 font-bold text-base">${remainingDays}</strong></span>
                `;
            }

            const dayNames = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
            const todayDayName = dayNames[today.getDay()];
            const activeTab = document.querySelector('.timetable-tab.active');
            if(activeTab) activeTab.classList.remove('active');
            const todayTab = document.querySelector(`.timetable-tab[data-day="${todayDayName}"]`);
            if (todayTab) {
                todayTab.classList.add('active');
                renderTimetable(todayDayName);
            }
            renderLegend(); // 범례 렌더링 함수 호출

            // --- 자료 갤러리 로직 ---
            const galleryModal = document.getElementById('material-gallery-modal');
            const galleryTriggers = document.querySelectorAll('.material-gallery-trigger');
            const closeGalleryBtn = document.getElementById('close-gallery-btn');
            const galleryImageContainer = document.getElementById('gallery-image-container');
            const galleryImage = document.getElementById('gallery-image');
            const galleryCounter = document.getElementById('gallery-counter');
            const prevBtn = document.getElementById('prev-gallery-btn');
            const nextBtn = document.getElementById('next-gallery-btn');

            if(galleryModal && galleryTriggers.length > 0) {
                const galleries = {
                    concept: [
                        'https://static.wixstatic.com/media/d9a698_0fb84858adaf48b3be2db56963b6dedd~mv2.jpeg/v1/fill/w_459,h_647,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/TalkMedia_i_9a0ac6174159_jpeg.jpeg',
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=개념교재+샘플+1',
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=개념교재+샘플+2',
                    ],
                    'past-questions': [
                        'https://static.wixstatic.com/media/d9a698_4f38e94a7b45416cb1eca28536c19c5e~mv2.jpeg/v1/fill/w_464,h_663,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/TalkMedia_i_7a28ac05d702_jpeg.jpeg',
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=기출교재+샘플+1',
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=기출교재+샘플+2',
                    ],
                    'error-notes': [
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=오답노트+샘플+1',
                        'https://placehold.co/800x1131/e2e8f0/4a5568?text=오답노트+샘플+2',
                    ],
                };
                let currentGallery = [];
                let currentIndex = 0;
                let touchStartX = 0;
                let touchEndX = 0;

                const updateGallery = () => {
                    galleryImage.src = currentGallery[currentIndex];
                    galleryCounter.textContent = `${currentIndex + 1} / ${currentGallery.length}`;
                    galleryImage.style.opacity = 1;
                };

                const changeImage = (isNext) => {
                    galleryImage.style.opacity = 0;
                    setTimeout(() => {
                        if (isNext) {
                           currentIndex = (currentIndex + 1) % currentGallery.length;
                        } else {
                           currentIndex = (currentIndex - 1 + currentGallery.length) % currentGallery.length;
                        }
                        updateGallery();
                    }, 150);
                };
                
                galleryTriggers.forEach(trigger => {
                    trigger.addEventListener('click', () => {
                        const galleryKey = trigger.dataset.gallery;
                        if (galleries[galleryKey] && galleries[galleryKey].length > 0) {
                            currentGallery = galleries[galleryKey];
                            currentIndex = 0;
                            updateGallery();
                            openModal(galleryModal);
                        }
                    });
                });
                
                closeGalleryBtn.addEventListener('click', () => { closeModal(galleryModal); });
                galleryModal.addEventListener('click', (e) => { 
                    if (e.target === galleryModal) closeModal(galleryModal);
                });
                
                prevBtn.addEventListener('click', (e) => { e.stopPropagation(); changeImage(false); });
                nextBtn.addEventListener('click', (e) => { e.stopPropagation(); changeImage(true); });

                // Swipe functionality
                galleryImageContainer.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });

                galleryImageContainer.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                });

                function handleSwipe() {
                    const swipeThreshold = 50; // Minimum swipe distance
                    if (touchEndX < touchStartX - swipeThreshold) changeImage(true);
                    if (touchEndX > touchStartX + swipeThreshold) changeImage(false);
                }
            }
        });
    </script>
</body>
</html>
